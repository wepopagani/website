$(window).on("load",function(){$(".preloader").fadeOut(100)}),jQuery(function(e){"use strict";const t=lozad();t.observe(),e(".image-popup").magnificPopup({type:"image",removalDelay:160,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass=this.st.el.attr("data-effect")}},closeOnContentClick:!0,midClick:!0,fixedContentPos:!1,fixedBgPos:!0});function o(e){if(e.matches)var t=50;else t=350}var n=e("html, body");e("nav a, .page-scroll").on("click",function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=e(this.hash),t=t.length?t:e("[name="+this.hash.slice(1)+"]");if(t.length)return n.animate({scrollTop:t.offset().top-50},1500,"easeInOutExpo"),!1}}),jQuery.extend(jQuery.easing,{easeInOutExpo:function(e,t,n,s,o){return t===0?n:t===o?n+s:(t/=o/2)<1?s/2*Math.pow(2,10*(t-1))+n:s/2*(-Math.pow(2,-10*--t)+2)+n}});function s(){var t;e(".count").length!==0&&(t=e(".count").offset().top-window.innerHeight),e(window).scrollTop()>t&&e(".count").each(function(){var t=e(this),n=t.attr("data-count");e({countNum:t.text()}).animate({countNum:n},{duration:1e3,easing:"swing",step:function(){t.text(Math.floor(this.countNum))},complete:function(){t.text(this.countNum)}})})}e(window).on("scroll",function(){s()})}),document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("contact-form"),n=document.getElementById("success-message"),e=document.getElementById("error-message");t.addEventListener("submit",function(s){if(s.preventDefault(),document.querySelector('input[name="bot-field"]').value!=="")return;fetch(t.action,{method:"POST",body:new FormData(t),headers:{Accept:"application/json"}}).then(s=>{s.ok?(t.style.display="none",n.style.display="block",e.style.display="none"):(s.json().then(t=>{Object.hasOwn(t,"errors")?e.textContent=t.errors.map(e=>e.message).join(", "):e.textContent="Oops! C'è stato un problema con l'invio del modulo."}),n.style.display="none",e.style.display="block")}).catch(t=>{e.textContent="Oops! C'è stato un problema con l'invio del modulo.",console.error("Errore durante l'invio del modulo:",t),n.style.display="none",e.style.display="block"})})})